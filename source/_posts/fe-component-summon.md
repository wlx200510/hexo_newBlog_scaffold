---
title: 前端组件库组织思路
date: 2020-02-27 16:35:28
categories:
- 学习
tags:
- 框架
- 总结
- 业务
---
目前前端开发的整体思路有些乱，调研后对组件库的认识如下，希望能系统性的整合当前的前端资源，从而提升对业务的支持效率。
<!-- more -->

## 前端组件系统设计思路和模式

![](https://conan-online.fbcontent.cn/conan-oss-resource/zebra15847838514814693.png)

最底层的是我们的基础视图组件，它是上层建筑的基石。对于一个包含很多子系统的复杂的项目系统来说，要想设计一个好的架构，第一步就是合理划分组件，组件的粒度拆成的足够细，这样才能最大限度的复用组件。

对于任何一个复杂系统来说，最重要的就是实现错综复杂的业务功能，但是不同模块或者子系统之间很多业务往往是相通的或者相似的，如果这个时候我们每个页面对于实现类似的业务场景都去重复去写一遍业务代码，那完全是没必要的，对于可维护性来说也是一种打击，所以基于这种场景 `业务组件`就很有必要出场了。我们可以**把功能或者需求类似的有机体封装成一个业务组件**，并对外**暴露接口来实现灵活的可定制性**，这样的话我们就可以再不同页面不同子系统中复用同样的逻辑和功能了。

同理，不同页面中往往有可能出现视觉或者交互完全相同或者类似的区块，为了提高可复用性和提高开发效率，我们往往会基于基础组件和业务组件再进行一次封装，让其成为一个独立的区块以便直接复用。

通过这样一层层封装，我们就逐渐搭建了一套完整的组件化系统，基于这种模式的开发往往也是一个好的前端架构的开始。但要注意一点就是高层次的组件一定会依赖低层次的组件，但是低层次的组件不可以包含高层次的组件。（听起来有点像rudex的单向数据流法则），他们的关系就好像下图：

![](https://conan-online.fbcontent.cn/conan-oss-resource/zebra15847838905182188.png)

## 组件库的划分及设计思路

组件库的划分其实可以参考成熟组件库划分。由于业务组件和区块划分完全取决于不同公司的实际项目情况，这里不能形成一套统一的思维框架，所以我这里说的组件库划分主要指基础组件库的划分。我们先来看看其他组件库的划分：

- `antd`划分为：通用组件，布局组件，导航组件，数据录入和数据展示组件，反馈型组件和其他。
- elementUI的组件划分为：基础组件，表单组件，数据呈现组件，通知类组件，导航类组件和其他

这些分类发都是非常合理的划分，所以我们在设计组件库时也可以参考或者直接使用，具体总结如下：

- 通用型组件: 比`·Button`, `Icon`等.
- 布局型组件: 比如`Grid`, `Layout`布局等.
- 导航型组件: 比如面包屑`Breadcrumb`, 下拉菜单`Dropdown`, 菜单`Menu`等.
- 反馈型组件: 比如`Progress`进度条, `Drawer`抽屉, `Modal`对话框等.
- 数据录入型组件: 比如`form`表单, `Switch`开关, `Upload`文件上传等.
- 数据展示型组件: 比如`Avator`头像, `Table`表格, `List`列表等.
- 其他业务类型

## 组件系统与微前端架构初探

走向微前端架构的团队一些参考:

![](https://conan-online.fbcontent.cn/conan-oss-resource/zebra158478530032081.png)